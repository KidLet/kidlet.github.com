<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>有趣的猜数字问题 —动态规划 | KidLet</title>
  <link rel="stylesheet" href="/assets/css/base.css">
  <link rel="stylesheet" href="/assets/css/post.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/code.css">
</head>

<body>

  <div class="site">

    <header class="site-header">
      <div class="site-header-title">
        <h1><a href="/" title="KidLet" rel="KidLet">KidLet</a></h1>
        <h2>享受生活，热爱编程</h2>
      </div>

    <nav class="site-nav">
      <ul>
        
        <li>
          <a href="/" title="Home">Home</a>
        </li>
        <li>
          <a href="/doing.html">Doing</a>
        </li>
        <li>
          <a href="#">About</a>
        </li>


        <li class="site-nav-search">
          <form action="#">
            <input type="text">
            <input type="submit" value="搜索">
          </form>
        </li>

      </ul>
    </nav>

    </header>

    <div class="wrapper">
  <div class="list-content">
    <article>
	<header class="entry-header">
		<h1 class="entry-title">
			有趣的猜数字问题 —动态规划
		</h1>

		<div class="entry-meta">
		2013-03-16
		</div>

	</header>

	<div class="entry-content">
		<h1>问题描述</h1>

<p>给定[1,100]区间内的所有整数，其中有一个正确的整数，你每次可以向小明询问一个整数，他会回答你猜的数字是正确、小了、大了。但是不同的是一旦你有一次猜大了，那么小明就不会再提醒你任何信息除非你猜中结果了。</p>

<p>那么求： 在最坏的情况下，我最少只需猜多少次即可猜中结果。</p>

<blockquote><p>这个题目的描述有多种变种，譬如高空丢装水的气球，丢Xbox。似乎也经常在面试题中出现</p></blockquote>

<h1>思考</h1>

<p>看到问题，我猜大家头脑中第一反应是二分法，的确，非常的类似。唯一的不同就是一旦有一次猜得过大那么就不会再得到任何有效的信息，直到你猜中结果。很明显二分在这里已经不适用了。</p>

<p>首先，有些同学可能看到 “最坏情况”，“最少次数” 会觉得有些矛盾，不知道什么叫做最坏情况的最少次数。</p>

<p>在这里，“最坏情况的最少猜数字次数”应该理解为，不论“正确的整数”是哪一个都好，你只要给我x次机会，我一定可以猜出来，其中让x尽可能的小，那么这个x即为所求。</p>

<p>当发现二分的方法无法实现的时候，有的同学开始想到将区间均分（包括我，哦呵呵），然后会去考虑到要将[1,100]这个整数区间等分成几份，从中找出一个最小的x，譬如等分为10份，那么我依次猜10,20,30,...,90,91,92,93,..99 那么总共需要18次。</p>

<p>但是如果反问为什么一定是10份？ 20份不可以吗？ 如果没办法按照等分的情况结果会怎样？所以还是很难拿出让人信服的理论依据表示这种做法是正确的。</p>

<h1>灵感闪现</h1>

<p>也许你已经注意到我接下来要讲的一个<strong>关键点</strong>，假如你知道[1,100]这个区间的问题的解， 那么[101,200]这个区间的解呢？你会发现对于这个问题，区间的起点和终点并不重要，重要的是区间的<strong>跨度</strong>，即我们要猜的所有整数有多少个。</p>

<p>那么我们就可以把问题抽象出来，设d（n）为问题的解,n表示区间的跨度，譬如在这题中，我们要求的就是d（100）</p>

<p>接下来我们来尝试着模拟我们猜数字的过程，假设最开始我猜了第一个数字50，那么会出现三种情况：</p>

<ol>
<li>Bingo！答对了</li>
<li>小了</li>
<li>大了</li>
</ol>


<p>第一种情况显然不是我们所要考虑的，那是最好的情况（真是狗屎运）。第二种情况我们接下来要猜[51,100]这个区间。第三种情况，对于这个题目<strong>最坏</strong>我们需要猜48次（为什么不是49次，因为第49次我们不用猜，剩下那个数肯定是答案）</p>

<p>那么对于第二种情况刚刚我们说过了，这个问题只和区间的跨度有关，而且从全局的角度看 区间[51,100]∈[1,100],那么很自然会想到 我们要猜[51,100]这个区间其实是解[1,100]这个区间的一个<strong>子问题</strong></p>

<p>到这里，我们总结一下，我们问题抽象为 d（100）,并且每次猜的时候会有两种可能（2、3两种情况），我们应该选其中最大的作为其解 （这是因为所求为最坏情况）</p>

<p>好了，现在问题是，我们上面举的例子是从50开始猜的，但是也有可能从其他数字开始猜，不同的数字开始猜会导致最后的结果不同，那么我们就是要从这些决策中，从中选择一个最小的值最为d（100）的解</p>

<p>下面给出方程：</p>

<ul>
<li>d（n）= min{ max（ d(n-j), j-2）+1 }   （j∈[1,n]）</li>
<li>d（1）= 0</li>
<li>d（2）= 1</li>
</ul>


<h2>怎么理解</h2>

<p>首先内层 max（ d(n-j), j-2）+1 为猜解跨度为n的区间，并且猜其中第j个数的最坏情况</p>

<p>外层的的含义 min {}、j 通过不断的枚举猜的数字j（区间第j个数字），在其最坏情况中找出一个最少的次数</p>

<h1>总结</h1>

<p>通过问题的抽象，引入动态规划，成功将问题在O（n<sup>2</sup>）的时间内得到解决。</p>

	</div>

	<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"kidlet"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- Duoshuo Comment END -->

</article>
  </div>

  <div class="list-widget-area">
    
    <aside class="widget widget_recent_entries">
      <h3 class="widget-title">Recent Posts</h3>
      <ul>
        
        <li>
          <a href="/2013/05-01/vdfuse.html" title="利用vdfuse读取 VirtualBox drive image(vdi)">利用vdfuse读取 VirtualBox drive image(vdi)</a>
        <li>
        
        <li>
          <a href="/2013/04-26/jekyllAutoregenerating.html" title="解决Jekyll无法自动生成问题">解决Jekyll无法自动生成问题</a>
        <li>
        
        <li>
          <a href="/2013/04-19/weatherjs.html" title="利用NodeJS搭建微信公众账号">利用NodeJS搭建微信公众账号</a>
        <li>
        
        <li>
          <a href="/2013/04-17/atSea.html" title="实习前的迷茫">实习前的迷茫</a>
        <li>
        
        <li>
          <a href="/2013/03-16/guessnum.html" title="有趣的猜数字问题 —动态规划">有趣的猜数字问题 —动态规划</a>
        <li>
        
      </ul>
    </aside>

    <aside class="widget widget_categories">
      <h3 class="widget-title">Categories</h3>
      <ul>

        
        <li>
          <a href="/categories/web前端" title="">web前端</a>
        </li>
        
        <li>
          <a href="/categories/算法" title="">算法</a>
        </li>
        
        <li>
          <a href="/categories/随笔" title="">随笔</a>
        </li>
        
        <li>
          <a href="/categories/javascript" title="">javascript</a>
        </li>
        
        <li>
          <a href="/categories/web" title="">web</a>
        </li>
        
        <li>
          <a href="/categories/linux" title="">linux</a>
        </li>
                

      </ul>
    </aside>
  </div>
</div>

    <footer>
      <p>Proudly powered by Jekyll</p>
      <script src="http://s14.cnzz.com/stat.php?id=5036420&web_id=5036420&online=2" language="JavaScript"></script>
    </footer>

  </div>

</body>

</html>

